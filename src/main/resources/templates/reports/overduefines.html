<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head th:replace="common/header :: common-header" />
<body roleId="page-top" data-spy="scroll"
	data-target=".navbar-fixed-top">
<head th:replace="common/header :: navbar" />
<div class="container">
	<div class="row">
		<div class="col-lg-12">

			<h1 class="page-header">
				Overdue Fines
				<button type="button" class="btn btn-info" data-bs-toggle="modal"
					id="helpButton" data-bs-target="#exampleModal">?</button>
			</h1>
		</div>

		<div class="modal fade" id="exampleModal" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="modal-title" id="exampleModalLabel">Overdue Fines Report
							- Help</h3>
					</div>
					<div class="modal-body">

						Based on the institution, the system displays open fee/fine
						accounts. It first retrieves fee/fine details through an API, then
						makes another API call to associate each fee/fine account with the
						corresponding user. The report also includes a “Patron Block”
						field, which indicates whether the user has any active blocks,
						along with the user’s group and location information. When a user
						expands a report row, the title of the overdue item is displayed.
						<h5>API’s</h5>

						<ul>
							<li>/accounts?query=(status.name==’open’ and
								feeFineOwner=institutionId)</li>
							<li>/users?query=(id==userId)</li>
							<li>/automated-patron-blocks/userId</li>
						</ul>
						<h5>FOLIO DOC</h5>

						<ul>
							<li><a
								href="https://s3.amazonaws.com/foliodocs/api/mod-feesfines/p/accounts.html">
									https://s3.amazonaws.com/foliodocs/api/mod-feesfines/p/accounts.html
							</a></li>
							<li><a
								href="https://s3.amazonaws.com/foliodocs/api/mod-users/p/users.html">
									https://s3.amazonaws.com/foliodocs/api/mod-users/p/users.html </a></li>
							<li><a
								href="https://s3.amazonaws.com/foliodocs/api/mod-patron-blocks/p/automated-patron-blocks.html">
									https://s3.amazonaws.com/foliodocs/api/mod-patron-blocks/p/automated-patron-blocks.html</a></li>
						</ul>
					</div>

				</div>
			</div>
		</div>
	</div>

	<div class="row container-border">

		<div class="col-xs-5 form-inline">

			<div class="form-group">
				<div class="form-group">
					<label for="firstName" class="cols-sm-2 control-label">
						Institution </label>
					<div class="cols-sm-10">
						<div class="input-group">

							<select class="form-control" id="institutionDropDown"
								onchange="callOverdueFinesReportAjaxRequest()">
								<option th:value="0">Select Institution</option>

								<option th:each="institution : ${institutionList}"
									th:value="${institution.institution_code}"
									th:text="${institution.institution_name}"></option>
							</select>
						</div>
					</div>
				</div>

			</div>


		</div>

	</div>

	<div class="row top-buffer"></div>

	<div class="row">
		<div class="table-responsive">
			<table id="overdueFinesDataTable"
				class="table table-bordered table-hover table-striped">
				<thead>
					<tr class="datatable-heading">
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
					</tr>
				</thead>
			</table>
		</div>
	</div>

</div>
<div th:replace="common/footer :: footer"></div>
<div th:replace="common/header :: body-bottom-scripts"></div>
<script>
	callOverdueFinesReportAjaxRequest();
</script>
</body>
</html>