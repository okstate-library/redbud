<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head th:replace="common/header :: common-header" />
<body roleId="page-top" data-spy="scroll"
	data-target=".navbar-fixed-top">
<head th:replace="common/header :: navbar" />
<div class="container">

	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">
				Institutional Counts
				<button type="button" class="btn btn-info" data-bs-toggle="modal"
					id="helpButton" data-bs-target="#exampleModal">?</button>
			</h1>
		</div>

		<div class="modal fade" id="exampleModal" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="modal-title" id="exampleModalLabel">Institutional
							Counts - Help</h3>
					</div>
					<div class="modal-body">

						The report displays the counts of instances, holdings, and items
						by institutional location. The data is collected through a daily
						process that runs early in the morning, processes the information,
						and stores it in the database. To obtain the instance count, the
						system accesses the holdings API using location IDs, retrieves the
						records, and filters them to get the duplicate and non-duplicate
						holdings counts. The resulting record counts are then saved as the
						instance and holdings counts. Next, API call is made using the
						same location ID filters to retrieve and save the item count. The
						report displays the Institution name, location name, instance
						count, holdings count and item count. The report displays near
						real-time data, as it retrieves information collected on the day
						before the request.

						<h5>APIâ€™s</h5>
						<ul>
							<li>/holdings-storage/holdings?query=(effectiveLocationId=locationID)</li>

							<li>/inventory/items?query=(effectiveLocationId=locationID)</li>
						</ul>


						<h5>FOLIO DOC</h5>

						<ul>
							<li><a
								href="https://s3.amazonaws.com/foliodocs/api/mod-inventory-storage/p/holdings-storage.html#holdings_storage_holdings_get">
									https://s3.amazonaws.com/foliodocs/api/mod-inventory-storage/p/holdings-storage.html
							</a></li>

							<li><a
								href="https://s3.amazonaws.com/foliodocs/api/mod-inventory/p/inventory.html#inventory_items_get">
									https://s3.amazonaws.com/foliodocs/api/mod-inventory/p/inventory.html
							</a></li>
						</ul>
					</div>

				</div>
			</div>
		</div>
	</div>
	<div class="row container-border">

		<div class="col-xs-5 form-inline">

			<div class="form-group">
				<div class="form-group">
					<label for="firstName" class="cols-sm-2 control-label">
						Institution </label>
					<div class="cols-sm-10">
						<div class="input-group">

							<select class="form-control" id="institutionDropDown"
								onchange="callInstitutionRecordsReportAjaxRequest()">
								<option th:value="0">Select Institution</option>

								<option th:each="institution : ${institutionList}"
									th:value="${institution.institution_id}"
									th:text="${institution.institution_name}"></option>
							</select>
						</div>
					</div>
				</div>

			</div>


		</div>

	</div>

	<div class="row top-buffer"></div>

	<div class="row">
		<div class="table-responsive">
			<table id="institutionalRecordDataTable"
				class="table table-bordered table-hover table-striped">
				<thead>
					<tr>
						<th>Institution</th>
						<th>Location</th>
						<th>Instance count</th>
						<th>Holdings count</th>
						<th>Item count</th>
					</tr>
				</thead>

			</table>
		</div>
	</div>
	<div class="row top-buffer"></div>

</div>
<div th:replace="common/footer :: footer"></div>
<div th:replace="common/header :: body-bottom-scripts"></div>
<!-- <script
	src="https://cdn.datatables.net/rowgroup/1.1.4/js/dataTables.rowGroup.min.js"></script> -->
<script>
	callInstitutionRecordsReportAjaxRequest();
</script>
</body>
</html>